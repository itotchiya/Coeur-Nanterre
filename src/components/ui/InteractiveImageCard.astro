---
/**
 * Interactive Image Card Component
 * Hover to reveal specs and details overlay
 *
 * Props:
 * - title: string — Card title
 * - description: string — Short description
 * - placeholderText: string — Placeholder text for image
 * - specs: Array<{ icon: string, text: string }> — List of specs
 */

interface Props {
  title: string;
  description: string;
  placeholderText: string;
  specs: { icon: string; text: string }[];
  src?: string;
}

const { title, description, placeholderText, specs, src } = Astro.props;
---

<div class="interactive-card">
  <!-- Image Placeholder -->
  <div class="interactive-card__image">
    {
      src ? (
        <img src={src} alt={title} class="interactive-card__img" />
      ) : (
        <div class="interactive-card__placeholder">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="1"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
            />
          </svg>
          <span>{placeholderText}</span>
        </div>
      )
    }
  </div>

  <!-- Hover Overlay -->
  <div class="interactive-card__overlay">
    <div class="interactive-card__content">
      <h3 class="interactive-card__title">{title}</h3>
      <p class="interactive-card__description">{description}</p>

      <ul class="interactive-card__specs">
        {
          specs.map((spec) => (
            <li class="interactive-card__spec">
              <span class="interactive-card__spec-icon">{spec.icon}</span>
              <span class="interactive-card__spec-text">{spec.text}</span>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</div>

<style>
  .interactive-card {
    position: relative;
    aspect-ratio: 4 / 3;
    border-radius: 0;
    overflow: hidden;
    cursor: default; /* Removed pointer cursor */
    transform-origin: center center;
    will-change: transform;
  }

  .interactive-card__image {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  .interactive-card__img {
    width: 100%;
    height: 120%; /* Extra height for parallax */
    top: -10%;
    position: absolute;
    object-fit: cover;
    transition: transform 0.6s ease-out;
  }

  .interactive-card:hover .interactive-card__img {
    transform: scale(1.05);
  }

  .interactive-card__placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    background: linear-gradient(
      135deg,
      var(--color-gray-100) 0%,
      var(--color-gray-200) 100%
    );
    transition:
      background 0.4s ease,
      transform 0.6s ease;
  }

  .interactive-card__placeholder svg {
    width: 48px;
    height: 48px;
    color: var(--color-gray-400);
    transition:
      color 0.4s ease,
      transform 0.4s ease;
  }

  .interactive-card__placeholder span {
    font-family: var(--font-family-base);
    font-size: 0.875rem;
    color: var(--color-gray-400);
    text-align: center;
    padding: 0 1rem;
    transition: opacity 0.3s ease;
  }

  /* Overlay (Hidden by default) */
  .interactive-card__overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      180deg,
      rgba(37, 32, 103, 0.85) 0%,
      rgba(37, 32, 103, 0.95) 100%
    );
    display: flex;
    align-items: center; /* Centered All Elements */
    justify-content: center;
    text-align: center;
    padding: 2rem;
    opacity: 0;
    transform: translateY(10px);
    transition:
      opacity 0.4s ease,
      transform 0.4s ease;
  }

  .interactive-card__content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
  }

  .interactive-card__title {
    font-family: var(--font-family-base);
    font-size: 2.25rem; /* Even bigger */
    font-weight: 700; /* Bold */
    color: var(--color-white);
    margin: 0;
    letter-spacing: -0.02em;
    text-transform: uppercase; /* Clean editorial look */
  }

  .interactive-card__description {
    font-family: var(--font-family-base);
    font-size: 0.9375rem;
    color: rgba(255, 255, 255, 0.9);
    margin: 0;
    line-height: 1.5;
    max-width: 85%;
    text-align: center; /* Centered Description */
    margin: 0 auto;
  }

  .interactive-card__specs {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0 0 0;
    display: flex;
    flex-wrap: wrap; /* Allow wrapping for pills */
    justify-content: center;
    gap: 0.75rem;
  }

  .interactive-card__spec {
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-white);
    padding: 0.4rem 1rem; /* Slightly tighter padding */
    border-radius: 100px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  .interactive-card__spec-icon {
    display: none;
  }

  .interactive-card__spec-text {
    font-family: var(--font-family-base);
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--color-primary); /* Dark Text on White Pill */
    white-space: nowrap;
  }

  /* Hover State */
  .interactive-card:hover .interactive-card__overlay {
    opacity: 1;
    transform: translateY(0);
  }

  .interactive-card:hover .interactive-card__placeholder {
    transform: scale(1.05);
  }

  .interactive-card:hover .interactive-card__placeholder span {
    opacity: 0;
  }

  .interactive-card:hover .interactive-card__placeholder svg {
    transform: scale(0.8);
    color: rgba(255, 255, 255, 0.3);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .interactive-card {
      aspect-ratio: 16 / 10;
    }

    .interactive-card__title {
      font-size: 1.125rem;
    }

    .interactive-card__specs {
      display: none; /* Hide specs on mobile for cleaner look */
    }
  }
</style>
